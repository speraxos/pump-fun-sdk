<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pump Docs</title>
    <meta name="lair-icon" content="<svg width='232' height='232' viewBox='0 0 232 232' fill='none' xmlns='http://www.w3.org/2000/svg'><rect width='232' height='232' rx='40' fill='#6366f1'/><rect x='40' y='30' width='100' height='140' rx='10' fill='white' opacity='0.9'/><rect x='55' y='55' width='70' height='8' rx='4' fill='#6366f1' opacity='0.6'/><rect x='55' y='73' width='55' height='8' rx='4' fill='#6366f1' opacity='0.4'/><rect x='55' y='91' width='60' height='8' rx='4' fill='#6366f1' opacity='0.4'/><rect x='55' y='109' width='45' height='8' rx='4' fill='#6366f1' opacity='0.4'/><rect x='55' y='127' width='65' height='8' rx='4' fill='#6366f1' opacity='0.4'/><rect x='80' y='50' width='100' height='140' rx='10' fill='white' opacity='0.7'/></svg>">
    <meta name="lair-include" content="lair.css material-symbols-rounded">
    <meta name="permissions" content="appStorage">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            height:100vh; overflow:hidden;
            background:var(--col-bg1,#101010);
            color:var(--col-txt1,#fff);
            font-family:'Poppins',-apple-system,BlinkMacSystemFont,sans-serif;
            display:flex;
        }

        /* Sidebar */
        .sidebar {
            width:220px; background:var(--col-bg2,#171717);
            border-right:1px solid var(--col-bg3,#262626);
            display:flex; flex-direction:column; flex-shrink:0;
            overflow-y:auto;
        }
        .sidebar::-webkit-scrollbar { width:4px; }
        .sidebar::-webkit-scrollbar-thumb { background:var(--col-bg3,#333); border-radius:2px; }
        .sb-head {
            padding:14px 16px;
            border-bottom:1px solid var(--col-bg3,#262626);
            display:flex; align-items:center; gap:8px;
        }
        .sb-head .material-symbols-rounded { font-size:20px; color:var(--colors-accent,#6179ff); }
        .sb-head span:last-child { font-weight:600; font-size:14px; }
        .sb-group { padding:12px 0 4px 16px; font-size:10px; font-weight:600; color:#555; text-transform:uppercase; letter-spacing:1px; }
        .sb-item {
            display:flex; align-items:center; gap:8px;
            padding:8px 16px; cursor:pointer;
            font-size:12px; color:#aaa; transition:all 0.15s;
            border-left:2px solid transparent;
        }
        .sb-item:hover { color:#fff; background:rgba(255,255,255,0.03); }
        .sb-item.active {
            color:var(--colors-accent,#6179ff);
            background:rgba(97,121,255,0.06);
            border-left-color:var(--colors-accent,#6179ff);
        }
        .sb-item .material-symbols-rounded { font-size:16px; }

        /* Content area */
        .content {
            flex:1; overflow-y:auto; padding:24px 32px;
        }
        .content::-webkit-scrollbar { width:5px; }
        .content::-webkit-scrollbar-thumb { background:var(--col-bg3,#333); border-radius:3px; }

        h1 { font-size:22px; font-weight:700; margin-bottom:8px; }
        h2 { font-size:16px; font-weight:600; margin:24px 0 8px; color:var(--colors-accent,#6179ff); }
        h3 { font-size:14px; font-weight:600; margin:16px 0 6px; }
        p, li { font-size:13px; line-height:1.7; color:#ccc; }
        ul, ol { padding-left:20px; margin:8px 0; }
        code {
            background:rgba(97,121,255,0.1); color:var(--colors-accent,#6179ff);
            padding:2px 6px; border-radius:4px; font-size:12px; font-family:monospace;
        }
        pre {
            background:var(--col-bg2,#171717); border:1px solid var(--col-bg3,#262626);
            border-radius:8px; padding:14px; margin:10px 0;
            overflow-x:auto; font-size:12px; font-family:monospace; line-height:1.5; color:#ccc;
        }
        .card {
            background:var(--col-bg2,#171717); border:1px solid var(--col-bg3,#262626);
            border-radius:10px; padding:16px; margin:12px 0;
        }
        .badge {
            display:inline-block; font-size:10px; font-weight:600; padding:2px 8px;
            border-radius:5px; margin:2px;
        }
        .badge.blue { background:rgba(97,121,255,0.15); color:#6179ff; }
        .badge.green { background:rgba(91,228,91,0.15); color:#5be45b; }
        .badge.orange { background:rgba(249,115,22,0.15); color:#f97316; }
        .badge.red { background:rgba(239,68,68,0.15); color:#ef4444; }

        .step {
            display:flex; gap:14px; padding:14px 0;
            border-bottom:1px solid var(--col-bg3,#262626);
        }
        .step:last-child { border-bottom:none; }
        .step-num {
            width:32px; height:32px; border-radius:50%; flex-shrink:0;
            background:var(--colors-accent,#6179ff); color:#fff;
            display:flex; align-items:center; justify-content:center;
            font-weight:700; font-size:14px;
        }
        .step-body h3 { margin:0 0 4px; }
        .step-body p { margin:0; }

        table { width:100%; border-collapse:collapse; margin:10px 0; font-size:12px; }
        th { text-align:left; padding:8px; border-bottom:2px solid var(--col-bg3,#262626); color:#888; font-weight:600; }
        td { padding:8px; border-bottom:1px solid var(--col-bg3,#171717); color:#ccc; }
        tr:hover td { background:rgba(255,255,255,0.02); }

        .hidden { display:none; }
    </style>
</head>
<body>

<div class="sidebar">
    <div class="sb-head">
        <span class="material-symbols-rounded">menu_book</span>
        <span>Pump Docs</span>
    </div>

    <div class="sb-group">Getting Started</div>
    <div class="sb-item active" onclick="nav('welcome')"><span class="material-symbols-rounded">home</span> Welcome</div>
    <div class="sb-item" onclick="nav('quickstart')"><span class="material-symbols-rounded">rocket_launch</span> Quick Start</div>
    <div class="sb-item" onclick="nav('architecture')"><span class="material-symbols-rounded">account_tree</span> Architecture</div>

    <div class="sb-group">Telegram Bot</div>
    <div class="sb-item" onclick="nav('bot-wallet')"><span class="material-symbols-rounded">account_balance_wallet</span> Wallet</div>
    <div class="sb-item" onclick="nav('bot-defi')"><span class="material-symbols-rounded">show_chart</span> DeFi Commands</div>
    <div class="sb-item" onclick="nav('bot-launch')"><span class="material-symbols-rounded">rocket</span> Token Launch</div>
    <div class="sb-item" onclick="nav('bot-ai')"><span class="material-symbols-rounded">psychology</span> AI Agent</div>

    <div class="sb-group">Platform</div>
    <div class="sb-item" onclick="nav('chains')"><span class="material-symbols-rounded">hub</span> Supported Chains</div>
    <div class="sb-item" onclick="nav('api-ref')"><span class="material-symbols-rounded">api</span> API Reference</div>
    <div class="sb-item" onclick="nav('security')"><span class="material-symbols-rounded">shield</span> Security</div>

    <div class="sb-group">Resources</div>
    <div class="sb-item" onclick="nav('faq')"><span class="material-symbols-rounded">help</span> FAQ</div>
    <div class="sb-item" onclick="nav('changelog')"><span class="material-symbols-rounded">history</span> Changelog</div>
</div>

<div class="content" id="content"></div>

<script>
const pages = {
/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ WELCOME ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
welcome: `
<h1>Welcome to Pump</h1>
<p>Lair is a unified DeFi intelligence platform combining a Telegram bot, AI assistant, wallet management, and token launching on Monad.</p>

<div class="card">
    <h3>üöÄ What is Lair?</h3>
    <p>A complete crypto toolkit accessible from Telegram. Track portfolios, analyze tokens, monitor whales, get AI-powered insights, and launch tokens ‚Äî all from one bot.</p>
</div>

<h2>Platform Components</h2>
<div class="card">
    <div class="step">
        <div class="step-num">1</div>
        <div class="step-body">
            <h3>Telegram Bot</h3>
            <p>Your main interface. Send commands to manage wallets, check prices, scan tokens, and launch coins. Available 24/7.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">2</div>
        <div class="step-body">
            <h3>AI Assistant</h3>
            <p>GPT-4o powered intelligence. Ask natural language questions about DeFi, get market analysis, and receive trading insights.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">3</div>
        <div class="step-body">
            <h3>DeFi Dashboard</h3>
            <p>Real-time market data, trending tokens, gas tracker, whale monitoring, and portfolio overview ‚Äî right in your OS.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">4</div>
        <div class="step-body">
            <h3>Token Launcher</h3>
            <p>Deploy tokens on Monad via Nad.fun with bonding curve mechanics. From image upload to live trading in seconds.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">5</div>
        <div class="step-body">
            <h3>PumpOS Desktop</h3>
            <p>A browser-based desktop environment that ties it all together with a familiar OS interface.</p>
        </div>
    </div>
</div>

<h2>Quick Links</h2>
<p>
    <span class="badge blue">@LairCopilotBot</span> ‚Äî Telegram Bot<br>
    <span class="badge green">lair2.vercel.app</span> ‚Äî Landing Page<br>
    <span class="badge orange">Monad Testnet</span> ‚Äî Current Network
</p>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ QUICK START ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
quickstart: `
<h1>Quick Start Guide</h1>
<p>Get up and running with Lair in under 2 minutes.</p>

<div class="card">
    <div class="step">
        <div class="step-num">1</div>
        <div class="step-body">
            <h3>Open the Bot</h3>
            <p>Search for <code>@LairCopilotBot</code> on Telegram, or click the direct link. Press <strong>Start</strong>.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">2</div>
        <div class="step-body">
            <h3>Create a Wallet</h3>
            <p>Send <code>/wallet</code> ‚Äî a non-custodial Privy embedded wallet is automatically created for you. Your keys, your crypto.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">3</div>
        <div class="step-body">
            <h3>Explore DeFi</h3>
            <p>Try <code>/trending</code> to see what's hot, <code>/gas</code> for fee estimates, or <code>/scan &lt;token&gt;</code> to analyze any contract.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">4</div>
        <div class="step-body">
            <h3>Launch a Token</h3>
            <p>Send a photo to the bot with a caption describing your token, or use <code>/launch</code> to start the guided flow.</p>
        </div>
    </div>
    <div class="step">
        <div class="step-num">5</div>
        <div class="step-body">
            <h3>Ask AI</h3>
            <p>Just type a natural language question: "What's the best time to buy ETH?" ‚Äî the AI agent handles the rest.</p>
        </div>
    </div>
</div>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ARCHITECTURE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
architecture: `
<h1>Architecture</h1>
<p>Lair is a pnpm monorepo with 6 packages and a clean dependency graph.</p>

<h2>Package Structure</h2>
<pre>
@nirholas/shared    ‚Üê Prisma DB, DeFi services, config, utils
       ‚Üë
@nirholas/launch    ‚Üê Monad/Nad.fun token deployer & trading
       ‚Üë
@nirholas/bot       ‚Üê Telegraf 4.x Telegram bot
@nirholas/api       ‚Üê Express 4.x REST + WebSocket
@nirholas/mcp       ‚Üê MCP server for AI-assisted launches
@nirholas/frontend  ‚Üê Next.js 14 dashboard (standalone)
</pre>

<h2>Key Design Principles</h2>
<ul>
    <li><strong>Service layer in shared</strong> ‚Äî Bot handlers and API routes delegate to services, never contain business logic</li>
    <li><strong>Zod-validated config</strong> ‚Äî All env vars go through typed config, never raw <code>process.env</code></li>
    <li><strong>Prisma-only ORM</strong> ‚Äî No raw SQL; unified schema for users, wallets, portfolios, tokens, alerts</li>
    <li><strong>Framework-agnostic core</strong> ‚Äî <code>@nirholas/shared</code> has zero Telegraf or Express imports</li>
</ul>

<h2>Tech Stack</h2>
<table>
    <tr><th>Layer</th><th>Technology</th></tr>
    <tr><td>Bot Framework</td><td>Telegraf 4.x</td></tr>
    <tr><td>API Server</td><td>Express 4.x + express-ws</td></tr>
    <tr><td>Frontend</td><td>Next.js 14 + Tailwind</td></tr>
    <tr><td>Database</td><td>PostgreSQL + Prisma 5.x</td></tr>
    <tr><td>Wallet</td><td>Privy Server Auth SDK</td></tr>
    <tr><td>AI</td><td>OpenAI GPT-4o (function calling)</td></tr>
    <tr><td>Blockchain</td><td>ethers.js 6.x (Monad EVM)</td></tr>
    <tr><td>DeFi Data</td><td>CoinGecko, Etherscan, GoPlus, DeFi Llama</td></tr>
    <tr><td>Build</td><td>tsup + tsx (TypeScript)</td></tr>
</table>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BOT WALLET ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
'bot-wallet': `
<h1>Wallet Commands</h1>
<p>Lair uses Privy embedded wallets ‚Äî non-custodial, auto-created on first interaction.</p>

<h2>Commands</h2>
<table>
    <tr><th>Command</th><th>Description</th></tr>
    <tr><td><code>/wallet</code></td><td>View your wallet address, balance, and connected chains</td></tr>
    <tr><td><code>/balance</code></td><td>Quick balance check across all chains</td></tr>
    <tr><td><code>/export</code></td><td>Export wallet (Privy recovery method)</td></tr>
    <tr><td><code>/fund</code></td><td>Get testnet faucet links and deposit instructions</td></tr>
</table>

<h2>How It Works</h2>
<div class="card">
    <p>When you first interact with the bot, a Privy embedded wallet is automatically created and linked to your Telegram ID. This wallet is:</p>
    <ul>
        <li><strong>Non-custodial</strong> ‚Äî Only you control the keys via Privy's MPC infrastructure</li>
        <li><strong>Multi-chain</strong> ‚Äî Works on Ethereum, Monad, and other EVM-compatible chains</li>
        <li><strong>Persistent</strong> ‚Äî Linked to your Telegram account, accessible across devices</li>
    </ul>
</div>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BOT DEFI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
'bot-defi': `
<h1>DeFi Commands</h1>
<p>Market data, gas tracking, and DeFi intelligence ‚Äî all from Telegram.</p>

<h2>Market Data</h2>
<table>
    <tr><th>Command</th><th>Description</th></tr>
    <tr><td><code>/price &lt;token&gt;</code></td><td>Current price with 24h change, volume, market cap</td></tr>
    <tr><td><code>/trending</code></td><td>Top trending tokens on CoinGecko</td></tr>
    <tr><td><code>/top</code></td><td>Top 10 by market cap</td></tr>
    <tr><td><code>/chart &lt;token&gt;</code></td><td>7-day price chart rendered as image</td></tr>
</table>

<h2>Gas & Network</h2>
<table>
    <tr><th>Command</th><th>Description</th></tr>
    <tr><td><code>/gas</code></td><td>Current gas prices for ETH, Monad, and other chains</td></tr>
    <tr><td><code>/gas alert &lt;gwei&gt;</code></td><td>Get notified when gas drops below threshold</td></tr>
</table>

<h2>Token Analysis</h2>
<table>
    <tr><th>Command</th><th>Description</th></tr>
    <tr><td><code>/scan &lt;address&gt;</code></td><td>Security audit via GoPlus (honeypot, owner, proxy, tax)</td></tr>
    <tr><td><code>/analyze &lt;token&gt;</code></td><td>Deep analysis with holder distribution</td></tr>
    <tr><td><code>/holders &lt;address&gt;</code></td><td>Top 10 holders with percentages</td></tr>
</table>

<h2>Whale Monitoring</h2>
<table>
    <tr><th>Command</th><th>Description</th></tr>
    <tr><td><code>/whale</code></td><td>Recent whale transactions (>$1M)</td></tr>
    <tr><td><code>/whale setup</code></td><td>Configure whale alert notifications</td></tr>
    <tr><td><code>/whale track &lt;addr&gt;</code></td><td>Track a specific whale wallet</td></tr>
</table>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BOT LAUNCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
'bot-launch': `
<h1>Token Launch</h1>
<p>Deploy tokens on Monad through Nad.fun ‚Äî complete with bonding curves and instant liquidity.</p>

<h2>Launch Methods</h2>
<div class="card">
    <h3>üì∏ Instant Launch (Photo)</h3>
    <p>Send a photo to the bot with a caption like:</p>
    <pre>MyToken $MYTK
A fun community token!</pre>
    <p>The bot extracts the name, symbol, and description, uses the photo as the token image, and deploys instantly.</p>
</div>

<div class="card">
    <h3>‚úçÔ∏è Guided Launch</h3>
    <p>Use <code>/launch</code> to start a step-by-step flow:</p>
    <ol>
        <li>Enter token name</li>
        <li>Enter symbol (2-6 chars)</li>
        <li>Write description</li>
        <li>Upload image (or skip for default)</li>
        <li>Confirm and deploy</li>
    </ol>
</div>

<h2>Nad.fun Integration</h2>
<table>
    <tr><th>Feature</th><th>Detail</th></tr>
    <tr><td>Network</td><td>Monad (EVM-compatible L1)</td></tr>
    <tr><td>Bonding Curve</td><td>Automated price discovery ‚Äî price increases with supply</td></tr>
    <tr><td>Initial Buy</td><td>Optional ‚Äî creator can be the first buyer</td></tr>
    <tr><td>Deployment Fee</td><td>~0.001 MON + gas</td></tr>
    <tr><td>Trading</td><td>Instant via bonding curve, no DEX listing needed</td></tr>
</table>

<h2>Post-Launch</h2>
<table>
    <tr><th>Command</th><th>Description</th></tr>
    <tr><td><code>/trade buy &lt;token&gt; &lt;amount&gt;</code></td><td>Buy tokens via bonding curve</td></tr>
    <tr><td><code>/trade sell &lt;token&gt; &lt;amount&gt;</code></td><td>Sell tokens back to curve</td></tr>
    <tr><td><code>/engage &lt;token&gt;</code></td><td>Boost token engagement score</td></tr>
    <tr><td><code>/portfolio</code></td><td>View your launched tokens and holdings</td></tr>
</table>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BOT AI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
'bot-ai': `
<h1>AI Agent</h1>
<p>Lair's AI agent is powered by GPT-4o with function calling ‚Äî it understands crypto context and can execute on-chain research.</p>

<h2>How to Use</h2>
<div class="card">
    <p>Simply type a message to the bot (without a / prefix). The AI agent processes your query and may call multiple tools to answer:</p>
    <ul>
        <li>"What's happening in DeFi today?"</li>
        <li>"Is it a good time to buy ETH?"</li>
        <li>"Analyze this token: 0xabc...def"</li>
        <li>"Compare SOL and AVAX"</li>
        <li>"Show me the biggest whale transactions today"</li>
    </ul>
</div>

<h2>Available Functions</h2>
<table>
    <tr><th>Function</th><th>What It Does</th></tr>
    <tr><td>get_token_price</td><td>Fetches real-time price from CoinGecko</td></tr>
    <tr><td>get_market_overview</td><td>Global crypto market stats</td></tr>
    <tr><td>get_trending</td><td>Trending tokens for the day</td></tr>
    <tr><td>get_gas_prices</td><td>Current gas across chains</td></tr>
    <tr><td>scan_token</td><td>Security analysis via GoPlus</td></tr>
    <tr><td>get_whale_transactions</td><td>Recent large movements</td></tr>
    <tr><td>get_portfolio</td><td>User's wallet balances</td></tr>
    <tr><td>get_fear_greed</td><td>Market sentiment index</td></tr>
</table>

<h2>Tips</h2>
<ul>
    <li>Be specific ‚Äî "ETH price in the last week" works better than "how's crypto"</li>
    <li>You can chain questions in one message</li>
    <li>The AI remembers context within a conversation session</li>
    <li>For complex operations (trades, launches), the AI will confirm before executing</li>
</ul>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CHAINS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
chains: `
<h1>Supported Chains</h1>
<p>Lair operates across multiple EVM-compatible blockchains.</p>

<table>
    <tr><th>Chain</th><th>Status</th><th>Features</th></tr>
    <tr><td>Ethereum</td><td><span class="badge green">Active</span></td><td>Gas tracking, whale monitoring, token scanning, portfolio</td></tr>
    <tr><td>Monad</td><td><span class="badge green">Active</span></td><td>Token launch (Nad.fun), trading, wallet, full support</td></tr>
    <tr><td>Polygon</td><td><span class="badge blue">Gas Only</span></td><td>Gas price tracking</td></tr>
    <tr><td>Arbitrum</td><td><span class="badge blue">Gas Only</span></td><td>Gas price tracking</td></tr>
    <tr><td>Optimism</td><td><span class="badge blue">Gas Only</span></td><td>Gas price tracking</td></tr>
    <tr><td>Base</td><td><span class="badge blue">Gas Only</span></td><td>Gas price tracking</td></tr>
    <tr><td>Avalanche</td><td><span class="badge blue">Gas Only</span></td><td>Gas price tracking</td></tr>
    <tr><td>BSC</td><td><span class="badge blue">Gas Only</span></td><td>Gas price tracking</td></tr>
    <tr><td>Solana</td><td><span class="badge orange">Planned</span></td><td>Future integration</td></tr>
</table>

<h2>Adding Chains</h2>
<p>Chain configuration is managed centrally in <code>@nirholas/shared</code> via the chain config module. Each chain defines:</p>
<ul>
    <li>Chain ID and name</li>
    <li>RPC endpoint</li>
    <li>Explorer URL</li>
    <li>Native token symbol and decimals</li>
    <li>Gas oracle endpoint (if available)</li>
</ul>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ API REF ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
'api-ref': `
<h1>API Reference</h1>
<p>The Lair API (<code>@nirholas/api</code>) runs on Express with 33 REST endpoints + WebSocket.</p>

<h2>Base URL</h2>
<pre>https://lair-tg.vercel.app   (production)
http://localhost:3001           (development)</pre>

<h2>Authentication</h2>
<table>
    <tr><th>Route</th><th>Method</th><th>Description</th></tr>
    <tr><td><code>/api/auth/telegram</code></td><td>POST</td><td>Authenticate via Telegram init data</td></tr>
    <tr><td><code>/api/auth/privy</code></td><td>POST</td><td>Authenticate via Privy token</td></tr>
</table>

<h2>Market Data</h2>
<table>
    <tr><th>Route</th><th>Method</th><th>Description</th></tr>
    <tr><td><code>/api/market/trending</code></td><td>GET</td><td>Trending tokens</td></tr>
    <tr><td><code>/api/market/overview</code></td><td>GET</td><td>Global market stats</td></tr>
    <tr><td><code>/api/coins</code></td><td>GET</td><td>All listed coins</td></tr>
    <tr><td><code>/api/coins/:id</code></td><td>GET</td><td>Coin detail</td></tr>
</table>

<h2>Portfolio</h2>
<table>
    <tr><th>Route</th><th>Method</th><th>Description</th></tr>
    <tr><td><code>/api/portfolio/summary</code></td><td>GET</td><td>Portfolio overview (requires auth)</td></tr>
    <tr><td><code>/api/portfolio/history</code></td><td>GET</td><td>Portfolio value history</td></tr>
</table>

<h2>Token Launch</h2>
<table>
    <tr><th>Route</th><th>Method</th><th>Description</th></tr>
    <tr><td><code>/api/tokens/deploy</code></td><td>POST</td><td>Deploy a new token</td></tr>
    <tr><td><code>/api/tokens/:id</code></td><td>GET</td><td>Token details</td></tr>
    <tr><td><code>/api/tokens/:id/buy</code></td><td>POST</td><td>Buy via bonding curve</td></tr>
    <tr><td><code>/api/tokens/:id/sell</code></td><td>POST</td><td>Sell via bonding curve</td></tr>
</table>

<h2>WebSocket</h2>
<pre>ws://localhost:3001/ws</pre>
<p>Push-only events:</p>
<ul>
    <li><code>engagement_update</code> ‚Äî Real-time engagement score changes</li>
    <li><code>coin_created</code> ‚Äî New token deployment notifications</li>
    <li><code>deployment_status</code> ‚Äî Token launch progress updates</li>
</ul>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SECURITY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
security: `
<h1>Security</h1>
<p>Security considerations for the Lair platform.</p>

<h2>Wallet Security</h2>
<div class="card">
    <ul>
        <li><strong>Non-custodial</strong> ‚Äî Lair never stores private keys. Privy uses MPC (Multi-Party Computation) to split keys.</li>
        <li><strong>Server-side signing</strong> ‚Äî Transaction signing happens via Privy SDK, never exposing raw keys.</li>
        <li><strong>Telegram-linked</strong> ‚Äî Wallet is linked to Telegram ID, recoverable via Privy.</li>
    </ul>
</div>

<h2>Token Scanning</h2>
<div class="card">
    <p>The <code>/scan</code> command checks tokens via GoPlus Security API:</p>
    <ul>
        <li>üçØ Honeypot detection</li>
        <li>üîí Ownership renounced check</li>
        <li>üìã Proxy contract detection</li>
        <li>üí∞ Buy/sell tax analysis</li>
        <li>üë• Holder concentration risk</li>
        <li>üîç Similar contract detection</li>
    </ul>
</div>

<h2>API Security</h2>
<ul>
    <li>Helmet.js for HTTP headers</li>
    <li>CORS whitelist for allowed origins</li>
    <li>Rate limiting on all endpoints</li>
    <li>Telegram init data validation for auth</li>
    <li>Privy JWT verification for wallet operations</li>
</ul>

<h2>Best Practices</h2>
<ul>
    <li>Always <code>/scan</code> a token before buying</li>
    <li>Don't share your wallet export with anyone</li>
    <li>Use the bot only in private chats for sensitive operations</li>
    <li>Verify contract addresses from official sources</li>
</ul>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FAQ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
faq: `
<h1>Frequently Asked Questions</h1>

<h2>General</h2>
<div class="card">
    <h3>What is Lair?</h3>
    <p>Lair is a unified Telegram bot platform for DeFi intelligence, wallet management, and token launching on Monad/Nad.fun.</p>
</div>
<div class="card">
    <h3>Is Lair free?</h3>
    <p>The bot and all DeFi features are free. Token launching incurs small gas fees on Monad (~0.001 MON).</p>
</div>
<div class="card">
    <h3>What chains are supported?</h3>
    <p>Ethereum and Monad are fully supported. Gas tracking is available for 9 chains. See the Chains page for details.</p>
</div>

<h2>Wallet</h2>
<div class="card">
    <h3>How is my wallet secured?</h3>
    <p>Lair uses Privy embedded wallets with MPC key management. The bot never see or stores your private keys.</p>
</div>
<div class="card">
    <h3>Can I use my existing wallet?</h3>
    <p>Currently, Lair creates a dedicated embedded wallet. External wallet linking is on the roadmap.</p>
</div>

<h2>Token Launch</h2>
<div class="card">
    <h3>What is Nad.fun?</h3>
    <p>Nad.fun is a token launch platform on Monad with bonding curve mechanics ‚Äî tokens are instantly tradeable without needing a DEX listing.</p>
</div>
<div class="card">
    <h3>Can I launch on other chains?</h3>
    <p>Currently only Monad/Nad.fun is supported. Multi-chain launches are planned.</p>
</div>

<h2>AI Assistant</h2>
<div class="card">
    <h3>How accurate is the AI?</h3>
    <p>The AI pulls real-time data from CoinGecko, Etherscan, and other APIs. Market analysis is informational ‚Äî not financial advice.</p>
</div>
<div class="card">
    <h3>Can the AI execute trades?</h3>
    <p>The AI can initiate trades through the bot but always asks for confirmation before executing any on-chain action.</p>
</div>
`,

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CHANGELOG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
changelog: `
<h1>Changelog</h1>

<h2>v0.1.0 ‚Äî PumpOS Edition <span class="badge blue">Current</span></h2>
<p style="color:#666; font-size:11px;">June 2025</p>
<ul>
    <li>‚ú® PumpOS desktop environment with native DeFi, AI & Docs apps</li>
    <li>‚ú® Multi-chain gas tracking (9 chains)</li>
    <li>‚ú® CoinGecko market integration with sparkline charts</li>
    <li>‚ú® Whale monitoring dashboard</li>
    <li>‚ú® AI chat with real-time data access</li>
    <li>‚ú® Token launch via Nad.fun on Monad</li>
    <li>‚ôªÔ∏è Monorepo architecture (6 packages)</li>
    <li>‚ôªÔ∏è Unified Prisma schema</li>
</ul>

<h2>v0.0.1 ‚Äî Initial Merge</h2>
<p style="color:#666; font-size:11px;">May 2025</p>
<ul>
    <li>üì¶ Merged tg-auth, telegram-bot, lyra-launch into unified monorepo</li>
    <li>üóÉÔ∏è Unified Prisma schema from 3 separate databases</li>
    <li>‚ôªÔ∏è Shared service layer extracted</li>
</ul>
`
};

let current = 'welcome';

function nav(page) {
    current = page;
    document.getElementById('content').innerHTML = pages[page] || '<h1>Not Found</h1>';
    document.querySelectorAll('.sb-item').forEach(el => {
        el.classList.toggle('active', el.getAttribute('onclick')?.includes(`'${page}'`));
    });
}

function greenflag() {
    nav('welcome');
}

if (!window.myWindow) document.addEventListener('DOMContentLoaded', greenflag);
</script>
</body>
</html>
